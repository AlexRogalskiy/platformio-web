<view-title>{{ vm.searchResult.page > 1 ? 'Page ' + vm.searchResult.page + ' |'  : '' }} {{ vm.searchQuery ? vm.searchQuery + ' |' : '' }} Libraries</view-title>
<meta name="description" content="{{ vm.seo.description }}" view-head />
<meta name="keywords" content="{{ vm.seo.keywords }}" view-head />

<div class="page-header">
  <h1>Libraries <small>Search</small></h1>
</div>

<form ng-submit="vm.submitSearchForm()" novalidate role="search">
  <div class="input-group input-group-lg">
    <input type="text" class="form-control" placeholder="Search for library" name="query" ng-model="vm.searchQuery">
    <div class="input-group-btn">
      <button type="submit" class="btn btn-default" type="submit"><i class="fa fa-search"></i>
      </button>
    </div>
  </div>
</form>
<br>

<div ng-if="vm.searchResult.items.length">
  <div class="search-result">
    <div class="well well-sm" ng-repeat="item in vm.searchResult.items">
      <div class="row">
        <div class="col-xs-10">
          <h3 class="title"><a href="/#!/lib/show/{{ item.name }}">{{ item.name }}</a> <small>by {{ item.author_name }}</small></h3>
        </div>
        <div class="col-xs-2 text-right">
          {{ item.example_nums }} <i class="fa fa-graduation-cap" tooltip="Examples"></i> {{ item.dlmonth }} <i class="fa fa-download" tooltip="Downloads per month"></i>
        </div>
      </div>

      <p>{{ item.description }}</p>

      <div class="keywords">
        <a href="/#!/lib/search?query=keyword%253A%2522{{ keyword }}%2522" class="btn btn-primary btn-xs" ng-repeat="keyword in item.keywords"><i class="fa fa-tag fa-lg"></i> {{ keyword }}</span>
</a>
      </div>
    </div>
  </div>

  <div class="text-center">
    <pagination ng-model="vm.searchResult.page" total-items="vm.searchResult.total" items-per-page="vm.searchResult.perpage" max-size=10 boundary-links="true" ng-change="vm.pageChanged()" class="pagination-sm">
    </pagination>
  </div>
</div>
<br>
<div ng-if="!vm.searchResult.items.length" class="jumbotron">
  <h3>Nothing has been found by your request</h3>
  <p>Try <a href="http://docs.platformio.ikravets.com/en/latest/userguide/lib/cmd_search.html#description">advanced search syntax</a>, like asterisk <code>*</code>. For example,
    <a href="/#!/lib/search?query=DS18*" class="btn btn-default btn-xs" tooltip="The asterisk serves as the truncation (or wildcard) operator"><i class="fa fa-search"></i> DS18*</span></a>
  </p>
  <p class="text-center">
    <a href="http://docs.platformio.ikravets.com/en/latest/librarymanager/creating.html" class="btn btn-success"><i class="fa fa-plus"></i> Create Library</a>
    <a href="https://github.com/ivankravets/platformio-libmirror/issues" class="btn btn-default"><i class="fa fa-share-square-o"></i> Propose Library</a>
  </p>
</div>
