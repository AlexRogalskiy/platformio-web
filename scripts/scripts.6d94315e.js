!function(){"use strict";angular.module("siteApp",["ngAnimate","ngResource","ngRoute","ngSanitize","ngTouch","ui.bootstrap","viewhead","angulartics","angulartics.google.analytics","hljs","ngDisqus","relativeDate"]).constant("siteConfig",{apiURL:9e3===parseInt(location.port)?"http://localhost:8080":"http://api.platformio.org"})}(),function(){"use strict";function a(a,b){return{responseError:function(c){return 404===c.status&&(b.location.href="#!/404"),a.reject(c)}}}function b(a,b,c,d){a.hashPrefix("!"),c.setShortname("platformio"),d.interceptors.push("httpErrorInterceptor"),b.when("/",{templateUrl:"views/home.html"}).when("/get-started",{templateUrl:"views/get_started.html"}).when("/platforms/:platformType?",{templateUrl:"views/platforms.html",controller:"PlatformsController",controllerAs:"vm"}).when("/boards/:vendorType?",{templateUrl:"views/boards.html",controller:"BoardsController",controllerAs:"vm"}).when("/lib",{templateUrl:"views/lib_main.html",controller:"LibMainController",controllerAs:"vm",resolve:{libStats:["dataService",function(a){return a.getLibStats().$promise}]}}).when("/lib/search",{templateUrl:"views/lib_search.html",controller:"LibSearchController",controllerAs:"vm",resolve:{searchResult:["$location","dataService",function(a,b){var c=a.search();return b.getLibSearchResult({query:c.query,page:c.page?parseInt(c.page):1}).$promise}]}}).when("/lib/examples",{templateUrl:"views/lib_examples.html",controller:"LibExamplesController",controllerAs:"vm",resolve:{searchResult:["$location","dataService",function(a,b){var c=a.search();return b.getLibExamples({query:c.query,page:c.page?parseInt(c.page):1}).$promise}]}}).when("/lib/show/:libId/:libName",{templateUrl:"views/lib_show.html",controller:"LibShowController",controllerAs:"vm",resolve:{libInfo:["$route","dataService",function(a,b){return b.getLibInfo(a.current.params.libId).$promise}]}}).when("/who-uses",{templateUrl:"views/who_uses.html"}).when("/404",{templateUrl:"views/404.html"}).otherwise({redirectTo:"/404"})}angular.module("siteApp").factory("httpErrorInterceptor",a).config(b),a.$inject=["$q","$window"],b.$inject=["$locationProvider","$routeProvider","$disqusProvider","$httpProvider"]}(),function(){"use strict";function a(a,b){function c(c){return a(b.apiURL+"/lib/search",c).get()}function d(c){return a(b.apiURL+"/lib/examples",c).get()}function e(c){return a(b.apiURL+"/lib/info/"+c).get()}function f(c){return a(b.apiURL+"/lib/download/"+c).get()}function g(){return a(b.apiURL+"/lib/stats").get()}function h(){return[{name:"arduino",title:"Arduino"},{name:"energia",title:"Energia"}]}function i(){return[{name:"atmelavr",title:"Atmel AVR"},{name:"atmelsam",title:"Atmel SAM"},{name:"timsp430",title:"TI MSP430"},{name:"titiva",title:"TI TIVA"},{name:"teensy",title:"Teensy"}]}function j(){return{arduino:[{type:"atmegangatmega168",name:"Arduino NG or older (ATmega168)",url:"http://arduino.cc/en/main/boards",mcu:"ATmega168",f_cpu:16,rom:16,ram:1},{type:"atmegangatmega8",name:"Arduino NG or older (ATmega8)",url:"http://arduino.cc/en/main/boards",mcu:"ATmega8",f_cpu:16,rom:8,ram:1},{type:"btatmega168",name:"Arduino BT (ATmega168)",url:"http://arduino.cc/en/main/boards",mcu:"ATmega168",f_cpu:16,rom:16,ram:1},{type:"btatmega328",name:"Arduino BT (ATmega328)",url:"http://arduino.cc/en/main/boards",mcu:"ATmega328",f_cpu:16,rom:32,ram:2},{type:"diecimilaatmega168",name:"Arduino Diecimila or Duemilanove (ATmega168)",url:"http://arduino.cc/en/Main/ArduinoBoardDiecimila",mcu:"ATmega168",f_cpu:16,rom:16,ram:1},{type:"diecimilaatmega328",name:"Arduino Diecimila or Duemilanove (ATmega328)",url:"http://arduino.cc/en/Main/ArduinoBoardDiecimila",mcu:"ATmega328",f_cpu:16,rom:32,ram:2},{type:"esplora",name:"Arduino Esplora",url:"http://arduino.cc/en/Main/ArduinoBoardEsplora",mcu:"ATmega32u4",f_cpu:16,rom:32,ram:2.5},{type:"fio",name:"Arduino Fio",url:"http://arduino.cc/en/Main/ArduinoBoardFio",mcu:"ATmega328P",f_cpu:8,rom:32,ram:2},{type:"leonardo",name:"Arduino Leonardo",url:"http://arduino.cc/en/Main/arduinoBoardLeonardo",mcu:"ATmega32u4",f_cpu:16,rom:32,ram:2.5},{type:"LilyPadUSB",name:"Arduino LilyPad USB",url:"http://arduino.cc/en/Main/ArduinoBoardLilyPadUSB",mcu:"ATmega32u4",f_cpu:8,rom:32,ram:2.5},{type:"lilypadatmega168",name:"Arduino LilyPad (ATmega168)",url:"http://arduino.cc/en/Main/ArduinoBoardLilyPad",mcu:"ATmega168",f_cpu:8,rom:16,ram:1},{type:"lilypadatmega328",name:"Arduino LilyPad (ATmega328)",url:"http://arduino.cc/en/Main/ArduinoBoardLilyPad",mcu:"ATmega328P",f_cpu:8,rom:32,ram:2},{type:"megaADK",name:"Arduino Mega ADK",url:"http://arduino.cc/en/Main/ArduinoBoardMegaADK",mcu:"ATmega2560",f_cpu:16,rom:256,ram:8},{type:"megaatmega1280",name:"Arduino Mega (ATmega1280)",url:"http://arduino.cc/en/Main/arduinoBoardMega",mcu:"ATmega1280",f_cpu:16,rom:128,ram:8},{type:"megaatmega2560",name:"Arduino Mega (ATmega2560)",url:"http://arduino.cc/en/Main/arduinoBoardMega2560",mcu:"ATmega2560",f_cpu:16,rom:256,ram:8},{type:"micro",name:"Arduino Micro",url:"http://arduino.cc/en/Main/ArduinoBoardMicro",mcu:"ATmega32u4",f_cpu:16,rom:32,ram:2.5},{type:"miniatmega168",name:"Arduino Mini (ATmega168)",url:"http://arduino.cc/en/Main/ArduinoBoardMini",mcu:"ATmega168",f_cpu:16,rom:16,ram:1},{type:"miniatmega328",name:"Arduino Mini (ATmega328P)",url:"http://arduino.cc/en/Main/ArduinoBoardMini",mcu:"ATmega328P",f_cpu:16,rom:32,ram:2},{type:"nanoatmega168",name:"Arduino Nano (ATmega168)",url:"http://arduino.cc/en/Main/ArduinoBoardNano",mcu:"ATmega168",f_cpu:16,rom:16,ram:1},{type:"nanoatmega328",name:"Arduino Nano (ATmega328P)",url:"http://arduino.cc/en/Main/ArduinoBoardNano",mcu:"ATmega328P",f_cpu:16,rom:32,ram:2},{type:"pro8MHzatmega168",name:"Arduino Pro or Pro Mini (ATmega168, 3.3V)",url:"http://arduino.cc/en/Main/ArduinoBoardProMini",mcu:"ATmega168",f_cpu:8,rom:16,ram:1},{type:"pro16MHzatmega168",name:"Arduino Pro or Pro Mini (ATmega168, 5V)",url:"http://arduino.cc/en/Main/ArduinoBoardProMini",mcu:"ATmega168",f_cpu:16,rom:16,ram:1},{type:"pro8MHzatmega328",name:"Arduino Pro or Pro Mini (ATmega328P, 3.3V)",url:"http://arduino.cc/en/Main/ArduinoBoardProMini",mcu:"ATmega328P",f_cpu:8,rom:32,ram:2},{type:"pro16MHzatmega328",name:"Arduino Pro or Pro Mini (ATmega328P, 5V)",url:"http://arduino.cc/en/Main/ArduinoBoardProMini",mcu:"ATmega328P",f_cpu:16,rom:32,ram:2},{type:"robotControl",name:"Arduino Robot Control",url:"http://arduino.cc/en/Main/Robot",mcu:"ATmega32u4",f_cpu:16,rom:32,ram:2.5},{type:"robotMotor",name:"Arduino Robot Motor",url:"http://arduino.cc/en/Main/Robot",mcu:"ATmega32u4",f_cpu:16,rom:32,ram:2.5},{type:"uno",name:"Arduino Uno",url:"http://arduino.cc/en/Main/ArduinoBoardUno",mcu:"ATmega328P",f_cpu:16,rom:32,ram:2},{type:"yun",name:"Arduino Yun",url:"http://arduino.cc/en/Main/ArduinoBoardYun",mcu:"ATmega32u4",f_cpu:16,rom:32,ram:2.5},{type:"due",name:"Arduino Due",url:"http://arduino.cc/en/Main/arduinoBoardDue",mcu:"AT91SAM3x8e",f_cpu:84,rom:512,ram:32}],adafruit:[{type:"flora8",name:"Adafruit Flora",url:"http://www.adafruit.com/product/659",mcu:"ATmega32u4",f_cpu:8,rom:32,ram:2.5},{type:"trinket3",name:"Adafruit Trinket 8MHz 3.3V LOGIC",url:"http://www.adafruit.com/products/1500",mcu:"ATtiny85",f_cpu:8,rom:8,ram:.5},{type:"trinket5",name:"Adafruit Trinket 16MHz 5V LOGIC",url:"http://www.adafruit.com/products/1501",mcu:"ATtiny85",f_cpu:16,rom:8,ram:.5},{type:"protrinket3",name:"Adafruit Pro Trinket 3V/12MHz (USB)",url:"http://www.adafruit.com/products/2010",mcu:"ATmega328P",f_cpu:12,rom:32,ram:2},{type:"protrinket3ftdi",name:"Adafruit Pro Trinket 3V/12MHz (FTDI)",url:"http://www.adafruit.com/products/2010",mcu:"ATmega328P",f_cpu:12,rom:32,ram:2},{type:"protrinket5",name:"Adafruit Pro Trinket 5V/16MHz (USB)",url:"http://www.adafruit.com/products/2000",mcu:"ATmega328P",f_cpu:16,rom:32,ram:2},{type:"protrinket5ftdi",name:"Adafruit Pro Trinket 5V/16MHz (FTDI)",url:"http://www.adafruit.com/products/2000",mcu:"ATmega328P",f_cpu:16,rom:32,ram:2}],digispark:[{type:"digispark-tiny",name:"Digispark USB Development Board",url:"http://digistump.com/products/1",mcu:"ATtiny85",f_cpu:16,rom:8,ram:.5},{type:"digispark-pro",name:"Digispark Pro (Default 16 Mhz)",url:"http://digistump.com/products/109",mcu:"ATtiny167",f_cpu:16,rom:16,ram:.5},{type:"digispark-pro32",name:"Digispark Pro (16 Mhz) (32 byte buffer)",url:"http://digistump.com/products/109",mcu:"ATtiny167",f_cpu:16,rom:16,ram:.5},{type:"digix",name:"Digistump DigiX",url:"http://digistump.com/products/50",mcu:"AT91SAM3x8e",f_cpu:84,rom:512,ram:32}],engduino:[{type:"engduinov1",name:"Engduino 1",url:"http://www.engduino.org/",mcu:"ATmega32u4",f_cpu:16,rom:32,ram:2.5},{type:"engduinov2",name:"Engduino 2",url:"http://www.engduino.org/",mcu:"ATmega32u4",f_cpu:16,rom:32,ram:2.5},{type:"engduinov3",name:"Engduino 3",url:"http://www.engduino.org/",mcu:"ATmega32u4",f_cpu:16,rom:32,ram:2.5}],microduino:[{type:"168pa8m",name:"Microduino Core (ATmega168P, 3.3V)",url:"http://www.microduino.cc/wiki/index.php?title=Microduino-Core",mcu:"ATmega168P",f_cpu:8,rom:16,ram:1},{type:"168pa16m",name:"Microduino Core (ATmega168P, 5V)",url:"http://www.microduino.cc/wiki/index.php?title=Microduino-Core",mcu:"ATmega168P",f_cpu:16,rom:16,ram:1},{type:"328p8m",name:"Microduino Core (ATmega328P, 3.3V)",url:"http://www.microduino.cc/wiki/index.php?title=Microduino-Core",mcu:"ATmega328P",f_cpu:8,rom:32,ram:2},{type:"328p16m",name:"Microduino Core (ATmega328P, 5V)",url:"http://www.microduino.cc/wiki/index.php?title=Microduino-Core",mcu:"ATmega328P",f_cpu:16,rom:32,ram:2},{type:"644pa8m",name:"Microduino Core+ (ATmega644PA, 3.3V)",url:"http://www.microduino.cc/wiki/index.php?title=Microduino-Core%2B",mcu:"ATmega644PA",f_cpu:8,rom:64,ram:4},{type:"644pa16m",name:"Microduino Core+ (ATmega644PA, 5V)",url:"http://www.microduino.cc/wiki/index.php?title=Microduino-Core%2B",mcu:"ATmega644PA",f_cpu:16,rom:64,ram:4},{type:"1284p8m",name:"Microduino Core+ (Atmega1284P, 3.3V)",url:"http://www.microduino.cc/wiki/index.php?title=Microduino-Core%2B",mcu:"Atmega1284P",f_cpu:8,rom:128,ram:16},{type:"1284p16m",name:"Microduino Core+ (Atmega1284P, 5V)",url:"http://www.microduino.cc/wiki/index.php?title=Microduino-Core%2B",mcu:"Atmega1284P",f_cpu:16,rom:128,ram:16},{type:"32u416m",name:"Microduino-Core USB",url:"http://www.microduino.cc/wiki/index.php?title=Microduino-CoreUSB",mcu:"ATmega32u4",f_cpu:16,rom:32,ram:2.5}],stm32:[{type:"stm32ldiscovery",name:"Discovery kit for STM32L151/152 line",url:"http://www.st.com/web/catalog/tools/FM116/SC959/SS1532/PF250990?sc=internet/evalboard/product/250990.jsp",mcu:"STM32L152rbt6",f_cpu:32,rom:128,ram:16},{type:"stm32f3discovery",name:"Discovery kit for STM32F303xx microcontrollers",url:"http://www.st.com/web/catalog/tools/FM116/SC959/SS1532/PF254044",mcu:"STM32F303vct6",f_cpu:72,rom:256,ram:48},{type:"stm32f4discovery",name:"Discovery kit for STM32F407/417 lines",url:"http://www.st.com/web/catalog/tools/FM116/SC959/SS1532/PF252419",mcu:"STM32F407vgt6",f_cpu:168,rom:1024,ram:192}],raspduino:[{type:"raspduino",name:"Raspduino",url:"http://www.bitwizard.nl/wiki/index.php/Raspduino",mcu:"ATmega328P",f_cpu:16,rom:32,ram:2}],teensy:[{type:"teensy20",name:"Teensy 2.0",url:"https://www.pjrc.com/store/teensy.html",mcu:"ATmega32u4",f_cpu:16,rom:32,ram:2.5},{type:"teensy20pp",name:"Teensy++ 2.0",url:"https://www.pjrc.com/store/teensypp.html",mcu:"AT90USB1289",f_cpu:16,rom:128,ram:8},{type:"teensy30",name:"Teensy 3.0",url:"https://www.pjrc.com/store/teensy3.html",mcu:"MK20DX128",f_cpu:48,rom:128,ram:16},{type:"teensy31",name:"Teensy 3.1",url:"https://www.pjrc.com/store/teensy31.html",mcu:"MK20DX256",f_cpu:72,rom:256,ram:64}],timsp430:[{type:"lpmsp430g2231",name:"MSP430G2231 LaunchPad",url:"http://www.ti.com/ww/en/launchpad/launchpads-msp430-msp-exp430g2.html",mcu:"MSP430G2231",f_cpu:16,rom:2,ram:.128},{type:"lpmsp430g2452",name:"MSP430G2452 LaunchPad",url:"http://www.ti.com/ww/en/launchpad/launchpads-msp430-msp-exp430g2.html",mcu:"MSP430G2452",f_cpu:16,rom:8,ram:.256},{type:"lpmsp430g2553",name:"MSP430G2553 LaunchPad",url:"http://www.ti.com/ww/en/launchpad/launchpads-msp430-msp-exp430g2.html",mcu:"MSP430G2553",f_cpu:16,rom:16,ram:.512},{type:"lpmsp430f5529",name:"MSP430F5529 LaunchPad (16 Mhz)",url:"http://www.ti.com/ww/en/launchpad/launchpads-msp430-msp-exp430f5529lp.html",mcu:"MSP430F5529",f_cpu:16,rom:128,ram:8},{type:"lpmsp430f5529_25",name:"MSP430F5529 LaunchPad (25 Mhz)",url:"http://www.ti.com/ww/en/launchpad/launchpads-msp430-msp-exp430f5529lp.html",mcu:"MSP430F5529",f_cpu:25,rom:128,ram:8},{type:"lpmsp430fr5739",name:"MSP430FR5739 Experimenter Board",url:"http://www.ti.com/tool/msp-exp430fr5739",mcu:"MSP430FR5739",f_cpu:16,rom:16,ram:1},{type:"lpmsp430fr5969",name:"MSP430FR5969 LaunchPad",url:"http://www.ti.com/ww/en/launchpad/launchpads-msp430-msp-exp430fr5969.html",mcu:"MSP430FR5969",f_cpu:16,rom:64,ram:2}],titiva:[{type:"lplm4f120h5qr",name:"Stellaris LM4F120 LaunchPad",url:"http://www.ti.com/tool/ek-lm4f120xl",mcu:"LM4F120H5QR",f_cpu:80,rom:256,ram:32},{type:"lptm4c1230c3pm",name:"Tiva C Series TM4C123G LaunchPad",url:"http://www.ti.com/ww/en/launchpad/launchpads-connected-ek-tm4c123gxl.html",mcu:"TM4C123GH6PM",f_cpu:80,rom:256,ram:32},{type:"lptm4c1294ncpdt",name:"Tiva C Series TM4C1294 Connected LaunchPad",url:"http://www.ti.com/ww/en/launchpad/launchpads-connected-ek-tm4c1294xl.html",mcu:"TM4C1294NCPDT",f_cpu:120,rom:1,ram:256}]}}return{getLibSearchResult:c,getLibExamples:d,getLibInfo:e,getLibDlUrl:f,getLibStats:g,getFrameworks:h,getPlatforms:i,getBoards:j}}angular.module("siteApp").factory("dataService",a),a.$inject=["$resource","siteConfig"]}(),function(){"use strict";function a(a){function b(b){a.open({templateUrl:"views/lib_search_examples.html",controller:"LibModalSEController",controllerAs:"vm",size:"lg",resolve:{searchPath:function(){return b}}})}return{showSearchExamples:b}}angular.module("siteApp").factory("siteUtils",a),a.$inject=["$modal"]}(),function(){"use strict";function a(a){function b(b,c){a(function(){if("undefined"!=typeof addthis){var a=b.lib.frameworks.join(" #"),d=b.lib.keywords.join(" #");a.length>0&&(a="#"+a),d.length>0&&(d="#"+d);var e={data_track_clickback:!1,data_track_addressbar:!1,data_ga_property:"UA-1768265-8",data_ga_social:!0},f={url:"http://platformio.org/#!/lib/show/"+b.lib.id+"/"+b.lib.name,title:b.lib.name+" library"+(a?" for ":"")+a,description:b.lib.description+" "+d,templates:{twitter:"{{title}} {{url}} via @PlatformIO_Org "+d},url_transforms:{shorten:{twitter:"bitly"}}};addthis.init(),addthis.toolbox(c[0],e,f)}})}var c={link:b,restrict:"A",transclude:!0,replace:!0,scope:{lib:"="},template:"<div ng-transclude></div>"};return c}angular.module("siteApp").directive("addthisLib",a),a.$inject=["$timeout"]}(),function(){"use strict";function a(){return function(a,b){var c=a;return angular.forEach(b,function(b){"name"in b&&"title"in b&&b.name===a&&(c=b.title)}),c}}angular.module("siteApp").filter("nameToTitle",a)}(),function(){"use strict";function a(a,b){function c(b){return new RegExp(b).test(a.path())}var d=this;d.isRouteActive=c,d.isPhJSCrawler=-1!==b.navigator.userAgent.indexOf("PhantomJS")}angular.module("siteApp").controller("MainController",a),a.$inject=["$location","$window"]}(),function(){"use strict";function a(a,b){function c(a){b.location.href="#!/platforms/"+a}function d(){var b={atmelavr:{title:"Atmel AVR",active:!1},atmelsam:{title:"Atmel SAM",active:!1},stm32:{title:"STM32",active:!1},teensy:{title:"Teensy",active:!1},timsp430:{title:"TI MSP430",active:!1},titiva:{title:"TI TIVA",active:!1},creating:{title:"Creating Platform",active:!1}},c="atmelavr";return a.hasOwnProperty("platformType")&&(c=a.platformType),angular.forEach(b,function(a,d){b[d].active=d===c}),b}var e=this;e.changePlatform=c,e.platforms=d(),e.activePlatform="",angular.forEach(e.platforms,function(a,b){a.active&&(e.activePlatform=b)})}angular.module("siteApp").controller("PlatformsController",a),a.$inject=["$routeParams","$window"]}(),function(){"use strict";function a(a,b,c){function d(a){b.location.href="#!/boards/"+a}function e(){var b=[{type:"arduino",title:"Arduino",active:!1},{type:"adafruit",title:"Adafruit",active:!1},{type:"digispark",title:"Digispark",active:!1},{type:"engduino",title:"Engduino",active:!1},{type:"microduino",title:"Microduino",active:!1},{type:"raspduino",title:"Raspduino",active:!1},{type:"stm32",title:"STM32",active:!1},{type:"teensy",title:"Teensy",active:!1},{type:"timsp430",title:"TI MSP430",active:!1},{type:"titiva",title:"TI Tiva",active:!1}],c="arduino";return a.hasOwnProperty("vendorType")&&(c=a.vendorType),angular.forEach(b,function(a){a.active=a.type===c}),b}var f=this;f.changeVendor=d,f.vendors=e(),f.boards=c.getBoards(),f.activeVendor="",angular.forEach(f.vendors,function(a,b){a.active&&(f.activeVendor=b)})}angular.module("siteApp").controller("BoardsController",a),a.$inject=["$routeParams","$window","dataService"]}(),function(){"use strict";function a(a,b){function c(){a.url("/lib/search?query="+encodeURIComponent(d.searchQuery))}var d=this;d.submitSearchForm=c,d.searchQuery="",d.stats=b,d.searchPath="#!/lib/search",d.searchInputPlaceholder="Search for library ..."}angular.module("siteApp").controller("LibMainController",a),a.$inject=["$location","libStats"]}(),function(){"use strict";function a(a,b,c){function d(c){a.location.href=e.searchPath+"?query="+c,b.close()}var e=this;e.searchPath=c,e.search=d}angular.module("siteApp").controller("LibModalSEController",a),a.$inject=["$window","$modalInstance","searchPath"]}(),function(){"use strict";function a(a,b,c,d,e){function f(){var a={description:[],keywords:[]};return angular.forEach(h.searchResult.items,function(c){a.description.push(c.name),a.keywords=a.keywords.concat(c.name.split("-")),angular.forEach(["frameworks","platforms"],function(d){angular.forEach(c[d],function(c){var e=b("nameToTitle")(c,h[d]);a.description.push(e),a.keywords=a.keywords.concat([c,e])})})}),angular.forEach(["description","keywords"],function(b){a[b]=a[b].filter(function(a,b,c){return c.indexOf(a)===b})}),a.description=a.description.join(", "),a.keywords=a.keywords.join(", "),a}function g(){a.search({query:encodeURIComponent(h.searchQuery),page:h.searchResult.page})}var h=this,i=a.search();h.siteUtils=d,h.frameworks=c.getFrameworks(),h.platforms=c.getPlatforms(),h.searchQuery="",h.searchResult=e,h.meta=f(),h.submitSearchForm=g,h.pageChanged=g,h.searchPath="#!/lib/search",h.searchInputPlaceholder="Search for library ...",i.query&&i.query.length&&(h.searchQuery=decodeURIComponent(i.query))}angular.module("siteApp").controller("LibSearchController",a),a.$inject=["$location","$filter","dataService","siteUtils","searchResult"]}(),function(){"use strict";function a(a,b,c,d,e,f){function g(){var a={title:j.lib.name,keywords:j.lib.keywords.slice(0),description:j.lib.description},b=[];angular.forEach(j.lib.authors,function(a){b.push(a.name)}),b.length&&(a.title+=" by "+b.join(", "));var d=[];return angular.forEach(["frameworks","platforms"],function(b){angular.forEach(j.lib[b],function(e){var f=c("nameToTitle")(e,j[b]);a.keywords.push(e),d.push(f)})}),d.length&&(a.keywords=a.keywords.concat(d),a.description+=" for "+d.join(", ")),a.keywords=a.keywords.join(", "),a}function h(){var a=[];return j.lib.examples.length?(angular.forEach(j.lib.examples,function(b){var c=b.split("/");a.push({url:b,name:c[c.length-1]})}),a):a}function i(){d.eventTrack("Download",{category:"Library",label:"#"+j.lib.id+" "+j.lib.name});var b=e.getLibDlUrl(j.lib.id).$promise;b.then(function(b){a.location.href=b.url+"?filename="+[j.lib.name,j.lib.version.name,j.lib.id].join("_")})}var j=this;j.frameworks=e.getFrameworks(),j.platforms=e.getPlatforms(),j.lib=f,j.meta=g(),j.examples=h(),j.currentExample={},j.downloadLib=i,j.examples.length&&(j.currentExample=j.examples[0]);var k=b.search();k.example&&angular.forEach(j.examples,function(a){return a.name===k.example?void(j.currentExample=a):void 0})}angular.module("siteApp").controller("LibShowController",a),a.$inject=["$window","$location","$filter","$analytics","dataService","libInfo"]}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(){var a={description:[],keywords:[]};return angular.forEach(l.searchResult.items,function(b){a.description=a.description.concat([b.lib.name,b.name]),a.keywords=a.keywords.concat(b.name.split(/[\-\_\.]/))}),a.description=a.description.filter(k),a.keywords=a.keywords.filter(k),a.description=a.description.join(", "),a.keywords=a.keywords.join(", "),a}function i(){a.search({query:encodeURIComponent(l.searchQuery),page:l.searchResult.page})}function j(a){var e,f,g=20;a.showFullCode=!1,a.shortCode="Loading...",e=c.get(a.url),e||(f=d.defer(),b.get(a.url,{cache:c,transformResponse:function(a){return a}}).success(function(a){f.resolve(a)}).error(function(a){console.log(a),f.resolve("Can't load an example code")}),e=f.promise),d.when(e).then(function(b){angular.isArray(b)?b=b[1]:angular.isObject(b)&&(b=b.data),b=b.replace(/(?:\s*\/\*[\s\S]+?\*\/\s*|\s*\/\/[\s\S]+?$\s)/m,""),a.shortCode=b.split("\n",g).splice(0,g).join("\n")})}function k(a,b,c){return c.indexOf(a)===b}var l=this,m=a.search();l.siteUtils=f,l.frameworks=e.getFrameworks(),l.platforms=e.getPlatforms(),l.searchQuery="",l.searchResult=g,l.meta=h(),l.submitSearchForm=i,l.pageChanged=i,l.searchPath="#!/lib/examples",l.searchInputPlaceholder="Search for example ...",m.query&&m.query.length&&(l.searchQuery=decodeURIComponent(m.query)),angular.forEach(l.searchResult.items,function(a){j(a)})}angular.module("siteApp").controller("LibExamplesController",a),a.$inject=["$location","$http","$templateCache","$q","dataService","siteUtils","searchResult"]}();